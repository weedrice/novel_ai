spring.application.name=api-server
server.port=8080

# PostgreSQL Database
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/novel_ai}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:dev}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:dev1234}
spring.datasource.driver-class-name=org.postgresql.Driver

# Database Auto-Creation
app.database.name=${DATABASE_NAME:novel_ai}

# JPA 설정
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# 초기 데이터 로딩
# never: data.sql을 실행하지 않음 (중복 삽입 방지)
# always: 매번 data.sql 실행 (개발 시 초기화 필요할 때만 사용)
# 참고: data.sql의 모든 INSERT는 ON CONFLICT DO NOTHING으로 중복 방지됨
spring.sql.init.mode=always
spring.jpa.defer-datasource-initialization=true
spring.sql.init.encoding=UTF-8

# HTTP 인코딩 설정
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.enabled=true
server.servlet.encoding.force=true

# Actuator 비활성화 (불필요한 엔드포인트 제거)
management.endpoints.enabled-by-default=false

# JWT 설정 (개발 환경)
# WARN: 프로덕션 환경에서는 환경 변수로 관리해야 합니다
jwt.secret=novelAiJwtSecretKey2025ForDevelopmentOnlyDoNotUseInProductionPleaseReplaceWithEnvironmentVariable
jwt.expiration=86400000
